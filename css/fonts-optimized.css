/* 日本語フォントの最適化されたローディング */ /* フォントフェイスの定義 - font-display: swapで即座にフォールバックフォントを表示 */ @font-face { font-family: 'Noto Sans JP'; font-style: normal; font-weight: 400; font-display: swap; src: url('https://fonts.gstatic.com/s/notosansjp/v42/-F62fjtqLzI2JPCgQBnw7HEMw9p1MfM.woff2') format('woff2'); unicode-range: U+3000-303F, U+3040-309F, U+30A0-30FF, U+4E00-9FAF, U+FF00-FFEF; } @font-face { font-family: 'Noto Sans JP'; font-style: normal; font-weight: 700; font-display: swap; src: url('https://fonts.gstatic.com/s/notosansjp/v42/-F6pfjtqLzI2JPCgQBnw7HFYwylVZdY.woff2') format('woff2'); unicode-range: U+3000-303F, U+3040-309F, U+30A0-30FF, U+4E00-9FAF, U+FF00-FFEF; } /* システムフォントスタックに日本語フォントを追加 */ :root { --font-family-base: 'Noto Sans JP', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Hiragino Sans', 'Hiragino Kaku Gothic ProN', 'BIZ UDPGothic', 'Yu Gothic', YuGothic, Meiryo, sans-serif; --font-family-mono: 'Source Code Pro', SFMono-Regular, Consolas, 'Liberation Mono', Menlo, Monaco, 'Courier New', monospace; } /* フォントの適用 */ body { font-family: var(--font-family-base); font-feature-settings: "palt" 1; /* プロポーショナルメトリクスを有効化 */ -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale; text-rendering: optimizeLegibility; } /* コード用のフォント */ code, pre, kbd, samp { font-family: var(--font-family-mono); font-size: 0.875em; } /* 日本語特有の文字詰め最適化 */ .font-japanese { font-family: var(--font-family-base); letter-spacing: 0.03em; line-height: 1.7; } /* 見出し用の最適化 */ h1, h2, h3, h4, h5, h6 { font-feature-settings: "palt" 1; font-weight: 700; line-height: 1.3; } /* CJK句読点の最適化 */ @supports (font-variant-east-asian: full-width) { body { font-variant-east-asian: proportional-width; } } /* ダークモード対応 */ @media (prefers-color-scheme: dark) { body { -webkit-font-smoothing: subpixel-antialiased; } } /* 読みやすさのための最小フォントサイズ */ @media (max-width: 640px) { body { font-size: max(16px, 1rem); } }