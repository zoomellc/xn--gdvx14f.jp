!function(){"use strict";const t={storageKey:"popularPostsData",maxEntries:50,init:function(){this.trackPageView(),this.cleanupOldData()},trackPageView:function(){if("/"===window.location.pathname||window.location.pathname.includes("/categories/")||window.location.pathname.includes("/tags/"))return;const t={path:window.location.pathname,title:document.title,timestamp:Date.now()};this.updatePageViews(t)},updatePageViews:function(t){let e=this.getStoredData();const a=e.findIndex(e=>e.path===t.path);-1!==a?(e[a].views=(e[a].views||0)+1,e[a].lastViewed=t.timestamp,e[a].title=t.title):e.push({path:t.path,title:t.title,views:1,firstViewed:t.timestamp,lastViewed:t.timestamp}),e.sort((t,e)=>e.views-t.views),e.length>this.maxEntries&&(e=e.slice(0,this.maxEntries)),this.saveData(e)},getStoredData:function(){try{return JSON.parse(localStorage.getItem(this.storageKey)||"[]")}catch(t){return console.error("Failed to parse popular posts data:",t),[]}},saveData:function(t){try{localStorage.setItem(this.storageKey,JSON.stringify(t))}catch(t){console.error("Failed to save popular posts data:",t)}},cleanupOldData:function(){const t=Date.now()-2592e6;let e=this.getStoredData();e=e.filter(e=>e.lastViewed>t),this.saveData(e)},getPopularPosts:function(t=5){return this.getStoredData().slice(0,t)},resetData:function(){localStorage.removeItem(this.storageKey),console.log("Popular posts data has been reset")}};"loading"===document.readyState?document.addEventListener("DOMContentLoaded",function(){t.init()}):t.init(),window.PopularPosts=t}();