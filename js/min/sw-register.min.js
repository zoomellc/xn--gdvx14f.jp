"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/js/service-worker.js").then(e=>{console.log("ServiceWorker registration successful with scope: ",e.scope),e.addEventListener("updatefound",()=>{const o=e.installing;o&&o.addEventListener("statechange",()=>{"installed"===o.state&&(navigator.serviceWorker.controller?confirm("新しいバージョンが利用可能です。更新しますか？")&&(o.postMessage({type:"SKIP_WAITING"}),window.location.reload()):console.log("Content is cached for offline use."))})})}).catch(e=>{console.log("ServiceWorker registration failed: ",e)})});