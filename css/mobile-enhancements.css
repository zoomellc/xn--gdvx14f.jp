/* Mobile Enhancements Styles */ /* Touch Feedback */ .touch-active { transform: scale(0.98); opacity: 0.8; transition: all 0.1s ease; } /* Pull to Refresh */ .pull-to-refresh { position: fixed; top: -50px; left: 50%; transform: translateX(-50%) translateY(0) scale(0.5); width: 40px; height: 40px; background: white; border-radius: 50%; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1); display: flex; align-items: center; justify-content: center; opacity: 0; transition: none; z-index: 9999; pointer-events: none; } .pull-to-refresh-icon { color: #3b82f6; animation: none; } .pull-to-refresh.ready .pull-to-refresh-icon { animation: spin 1s linear infinite; } .pull-to-refresh.refreshing { transition: all 0.3s ease; transform: translateX(-50%) translateY(60px) scale(1); opacity: 1; } .pull-to-refresh.refreshing .pull-to-refresh-icon { animation: spin 0.5s linear infinite; } /* Mobile Toast Notifications */ .mobile-toast { position: fixed; bottom: calc(80px + env(safe-area-inset-bottom)); left: 50%; transform: translateX(-50%) translateY(100px); background: #1f2937; color: white; padding: 0.75rem 1.5rem; border-radius: 2rem; font-size: 0.875rem; box-shadow: 0 4px 20px rgba(0, 0, 0, 0.2); opacity: 0; transition: all 0.3s ease; z-index: 9999; max-width: calc(100vw - 2rem); text-align: center; } .mobile-toast.show { transform: translateX(-50%) translateY(0); opacity: 1; } .mobile-toast-success { background: #10b981; } .mobile-toast-warning { background: #f59e0b; } .mobile-toast-error { background: #ef4444; } /* Performance Optimizations */ .reduce-animations * { animation-duration: 0s !important; transition-duration: 0s !important; } .is-scrolling .lazy-load { display: none; } /* Touch Mode Enhancements */ .touch-mode a, .touch-mode button, .touch-mode .clickable { position: relative; overflow: hidden; } .touch-mode a::after, .touch-mode button::after, .touch-mode .clickable::after { content: ''; position: absolute; top: 50%; left: 50%; width: 0; height: 0; border-radius: 50%; background: rgba(0, 0, 0, 0.1); transform: translate(-50%, -50%); transition: width 0.3s, height 0.3s; } .touch-mode a:active::after, .touch-mode button:active::after, .touch-mode .clickable:active::after { width: 100%; height: 100%; } /* Landscape Compact Mode */ .landscape-compact header { padding-top: 0.25rem; padding-bottom: 0.25rem; } .landscape-compact .mobile-bottom-nav { padding: 0.25rem 0; } .landscape-compact .nav-label { display: none; } .landscape-compact main { padding-top: 0.5rem; } /* Mobile Skip Links */ .mobile-skip-links { position: absolute; top: -100px; left: 0; z-index: 9999; display: flex; gap: 0.5rem; } .mobile-skip-links .skip-link:focus { position: fixed; top: 1rem; left: 1rem; background: white; color: #1f2937; padding: 0.5rem 1rem; border-radius: 0.5rem; box-shadow: 0 2px 10px rgba(0, 0, 0, 0.2); text-decoration: none; } /* Viewport Height Fix */ .min-h-screen { min-height: 100vh; min-height: calc(var(--vh, 1vh) * 100); } /* Short Viewport Adjustments */ .short-viewport .hero-section { padding-top: 1rem; padding-bottom: 1rem; } .short-viewport h1 { font-size: 1.5rem; } .short-viewport .mobile-bottom-nav { padding: 0.25rem 0; } /* Network-Aware Styles */ body[data-network="slow-2g"] img, body[data-network="2g"] img { filter: blur(5px); transition: filter 0.3s; } body[data-network="slow-2g"] img.lazy-loaded, body[data-network="2g"] img.lazy-loaded { filter: none; } /* Offline Mode */ body.offline::before { content: 'オフライン'; position: fixed; top: 0; left: 0; right: 0; background: #ef4444; color: white; text-align: center; padding: 0.25rem; font-size: 0.75rem; z-index: 9999; } /* Focus Improvements */ .touch-input :focus { outline: none; } .touch-input button:focus, .touch-input a:focus, .touch-input input:focus, .touch-input textarea:focus, .touch-input select:focus { box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.5); } /* Improved Loading States */ .skeleton-pulse { background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%); background-size: 200% 100%; animation: pulse 1.5s ease-in-out infinite; } @keyframes pulse { 0% { background-position: 200% 0; } 100% { background-position: -200% 0; } } @keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } } /* Mobile-Optimized Buttons */ @media (max-width: 640px) { .btn-mobile { width: 100%; justify-content: center; padding: 1rem; font-size: 1rem; font-weight: 500; border-radius: 0.5rem; transition: all 0.2s ease; } .btn-mobile:active { transform: scale(0.98); } } /* Swipe Indicators */ .swipe-hint { position: absolute; bottom: 1rem; left: 50%; transform: translateX(-50%); display: flex; gap: 0.5rem; padding: 0.5rem 1rem; background: rgba(0, 0, 0, 0.8); color: white; border-radius: 2rem; font-size: 0.75rem; opacity: 0; animation: fadeInOut 3s ease; } @keyframes fadeInOut { 0%, 100% { opacity: 0; } 50% { opacity: 1; } } /* Responsive Font Scaling */ @media (max-width: 375px) { html { font-size: 14px; } } @media (min-width: 376px) and (max-width: 414px) { html { font-size: 15px; } } @media (min-width: 415px) and (max-width: 767px) { html { font-size: 16px; } } /* Safe Area Padding */ @supports (padding: max(0px)) { .safe-padding-top { padding-top: max(1rem, env(safe-area-inset-top)); } .safe-padding-bottom { padding-bottom: max(1rem, env(safe-area-inset-bottom)); } .safe-padding-left { padding-left: max(1rem, env(safe-area-inset-left)); } .safe-padding-right { padding-right: max(1rem, env(safe-area-inset-right)); } }