!function(){"use strict";const e={detectRedirectChain:function(){if("PerformanceNavigationTiming"in window){const e=performance.getEntriesByType("navigation")[0];if(e&&e.redirectCount>0){const t={redirectCount:e.redirectCount,type:e.type,finalUrl:window.location.href,timestamp:(new Date).toISOString()};e.redirectCount>1?(console.warn("Redirect chain detected:",t),this.reportRedirectChain(t)):console.log("Single redirect detected:",t),window.PerformanceMetrics&&window.PerformanceMetrics.saveMetrics({type:"redirect",data:t})}}},reportRedirectChain:function(e){window.gtag&&window.gtag("event","redirect_chain",{event_category:"Performance",event_label:"Redirect Chain Detected",value:e.redirectCount,custom_map:{redirect_count:e.redirectCount,final_url:e.finalUrl}}),window.RUM&&window.RUM.sendMetric("redirect_chain",e)},checkCommonPatterns:function(){const e=window.location.href,t=[];e.endsWith("index.html")&&t.push({type:"index_html_suffix",message:"URL ends with index.html - should redirect to directory",url:e}),e.includes("//")&&!e.includes("://")&&t.push({type:"double_slash",message:"URL contains double slashes",url:e});const n=new URLSearchParams(window.location.search),r=[];return["utm_source","utm_medium","utm_campaign","fbclid","gclid"].forEach(function(e){n.has(e)&&r.push(e)}),r.length>0&&t.push({type:"tracking_params",message:"URL contains tracking parameters that might cause unnecessary redirects",params:r,url:e}),t.length>0&&console.warn("Potential redirect issues detected:",t),t},checkReferrerRedirect:function(){if(document.referrer)try{const e=new URL(document.referrer),t=new URL(window.location.href);e.hostname===t.hostname&&e.pathname!==t.pathname&&(console.log("Internal navigation detected:",{from:e.pathname,to:t.pathname}),[{from:/\/index\.html$/,to:/\/$/},{from:/([^\/])$/,to:/\1\/$/},{from:/\/+$/,to:/\/$/}].forEach(function(n){n.from.test(e.pathname)&&n.to.test(t.pathname)&&console.warn("Common redirect pattern detected:",{pattern:n.from.toString(),from:e.pathname,to:t.pathname})}))}catch(e){}},init:function(){var e=this;"complete"===document.readyState?(e.detectRedirectChain(),e.checkCommonPatterns(),e.checkReferrerRedirect()):window.addEventListener("load",function(){e.detectRedirectChain(),e.checkCommonPatterns(),e.checkReferrerRedirect()})}};("localhost"===window.location.hostname||window.location.hostname.includes("deploy-preview")||window.location.search.includes("debug=true"))&&e.init(),window.RedirectMonitor=e}();