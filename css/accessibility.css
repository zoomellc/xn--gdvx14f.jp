/* アクセシビリティ改善のためのスタイル */ /* ============================================ カラーコントラスト改善 WCAG 2.1 AA準拠 ============================================ */ /* リンクの改善 */ a:not(.btn) { color: #0066cc; text-decoration: underline; text-decoration-color: rgba(0, 102, 204, 0.4); text-underline-offset: 0.2em; } a:not(.btn):hover { text-decoration-color: #0066cc; } a:not(.btn):focus { outline: 2px solid #0066cc; outline-offset: 2px; } /* ダークモードのリンク */ .dark a:not(.btn) { color: #66b3ff; text-decoration-color: rgba(102, 179, 255, 0.4); } .dark a:not(.btn):hover { text-decoration-color: #66b3ff; } .dark a:not(.btn):focus { outline-color: #66b3ff; } /* ============================================ フォーカス状態の改善 ============================================ */ /* キーボードナビゲーション時のフォーカス */ :focus { outline: 2px solid #0066cc; outline-offset: 2px; } .dark :focus { outline-color: #66b3ff; } /* ボタンのフォーカス */ button:focus, .btn:focus { outline: 3px solid #0066cc; outline-offset: 2px; box-shadow: 0 0 0 4px rgba(0, 102, 204, 0.2); } .dark button:focus, .dark .btn:focus { outline-color: #66b3ff; box-shadow: 0 0 0 4px rgba(102, 179, 255, 0.2); } /* ============================================ グレーテキストの改善 ============================================ */ /* 薄いグレーテキストを濃くする */ .text-gray-500 { color: #4b5563 !important; } .text-gray-600 { color: #374151 !important; } .dark .text-gray-400 { color: #d1d5db !important; } .dark .text-gray-500 { color: #e5e7eb !important; } /* ============================================ カテゴリーバッジの追加改善 ============================================ */ /* ホバー時のコントラスト向上 */ .category-尊敬語:hover { background-color: rgba(168, 85, 247, 0.3); } .category-謙譲語:hover { background-color: rgba(59, 130, 246, 0.3); } .category-丁寧語:hover { background-color: rgba(16, 185, 129, 0.3); } /* フォーカス時のスタイル */ .category-尊敬語:focus, .category-謙譲語:focus, .category-丁寧語:focus { outline: 2px solid currentColor; outline-offset: 2px; } /* ============================================ ダークモードのボーダー改善 ============================================ */ .dark .border-gray-700 { border-color: #6b7280 !important; } .dark .border-gray-600 { border-color: #9ca3af !important; } /* ============================================ 読みやすさの向上 ============================================ */ /* 行間の調整 */ .content p, .content li { line-height: 1.7; } /* 文字間隔の微調整 */ .content p { letter-spacing: 0.04em; } /* ============================================ スキップリンク ============================================ */ .skip-link { position: absolute; left: -9999px; top: 0; z-index: 999; padding: 0.5rem 1rem; background-color: #0066cc; color: white; text-decoration: none; } .skip-link:focus { left: 50%; transform: translateX(-50%); } /* ============================================ エラー状態の改善 ============================================ */ .error, .invalid { border-color: #dc2626 !important; color: #b91c1c; } .dark .error, .dark .invalid { border-color: #ef4444 !important; color: #fca5a5; } /* エラーメッセージ */ .error-message { color: #b91c1c; font-weight: 500; } .dark .error-message { color: #fca5a5; } /* ============================================ 高コントラストモード対応 ============================================ */ @media (prefers-contrast: high) { /* ボーダーを太くする */ * { border-width: 2px !important; } /* 影を削除 */ * { box-shadow: none !important; } /* テキストを太くする */ body { font-weight: 500; } /* リンクの下線を常に表示 */ a { text-decoration: underline !important; } } /* ============================================ モーション設定への対応 ============================================ */ @media (prefers-reduced-motion: reduce) { *, *::before, *::after { animation-duration: 0.01ms !important; animation-iteration-count: 1 !important; transition-duration: 0.01ms !important; scroll-behavior: auto !important; } } /* ============================================ フォームのアクセシビリティ ============================================ */ /* ラベルとインプットの関連性を明確にする */ label { font-weight: 500; margin-bottom: 0.25rem; display: block; } input:focus, textarea:focus, select:focus { outline: 3px solid #0066cc; outline-offset: 0; border-color: #0066cc; } .dark input:focus, .dark textarea:focus, .dark select:focus { outline-color: #66b3ff; border-color: #66b3ff; } /* 必須フィールドのマーキング */ .required::after { content: " *"; color: #dc2626; font-weight: bold; } .dark .required::after { color: #ef4444; } /* ============================================ 画像のアクセシビリティ ============================================ */ /* 画像が読み込まれない場合の代替テキスト表示 */ img { font-style: italic; color: #6b7280; } img::before { content: "画像: "; } img::after { content: " (読み込みエラー)"; } /* ============================================ テーブルのアクセシビリティ ============================================ */ /* テーブルヘッダーの強調 */ th { font-weight: 600; background-color: #f3f4f6; } .dark th { background-color: #374151; } /* 行のホバー効果 */ tbody tr:hover { background-color: #f9fafb; } .dark tbody tr:hover { background-color: #1f2937; } /* ============================================ アイコンのアクセシビリティ ============================================ */ /* アイコンのみのボタンにツールチップ */ .icon-only[aria-label]::after { content: attr(aria-label); position: absolute; bottom: 100%; left: 50%; transform: translateX(-50%); background-color: #1f2937; color: white; padding: 0.25rem 0.5rem; border-radius: 0.25rem; font-size: 0.875rem; white-space: nowrap; opacity: 0; pointer-events: none; transition: opacity 0.2s; } .icon-only[aria-label]:hover::after, .icon-only[aria-label]:focus::after { opacity: 1; }