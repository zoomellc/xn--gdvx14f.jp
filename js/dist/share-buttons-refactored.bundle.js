(()=>{"use strict";class t{constructor(t){this.isLoading=!1,this.options=Object.assign({variant:"primary",size:"medium",disabled:!1,loading:!1},t),this.element=this.createElement(),this.applyStyles(),this.attachEventListeners(),this.options.loading&&this.setLoading(!0)}createElement(){const t=!!this.options.href,e=document.createElement(t?"a":"button");return t&&this.options.href&&(e.href=this.options.href,this.options.target&&(e.target=this.options.target)),e.className=this.buildClassName(),this.options.ariaLabel&&e.setAttribute("aria-label",this.options.ariaLabel),this.options.disabled&&!t&&(e.disabled=!0),this.options.tooltip&&(e.title=this.options.tooltip,this.setupTooltip()),this.updateContent(),e}buildClassName(){const t=["btn",`btn-${this.options.variant}`,`btn-${this.options.size}`,this.options.className||""];return this.options.disabled&&t.push("btn-disabled"),this.options.loading&&t.push("btn-loading"),this.options.icon&&!this.options.text&&t.push("btn-icon-only"),t.filter(Boolean).join(" ")}applyStyles(){const t={display:"inline-flex",alignItems:"center",justifyContent:"center",gap:"8px",border:"none",borderRadius:"4px",cursor:this.options.disabled?"not-allowed":"pointer",textDecoration:"none",transition:"all 0.2s ease",fontFamily:"inherit",fontWeight:"500",lineHeight:"1",position:"relative",userSelect:"none"},e=this.getSizeStyles(),i=this.getVariantStyles();Object.assign(this.element.style,t,e,i),this.options.disabled&&(this.element.style.opacity="0.6")}getSizeStyles(){return{small:{padding:"6px 12px",fontSize:"12px",height:"28px"},medium:{padding:"8px 16px",fontSize:"14px",height:"36px"},large:{padding:"12px 24px",fontSize:"16px",height:"44px"}}[this.options.size||"medium"]}getVariantStyles(){return{primary:{backgroundColor:"#1976d2",color:"#ffffff"},secondary:{backgroundColor:"#ffffff",color:"#1976d2",border:"1px solid #1976d2"},text:{backgroundColor:"transparent",color:"#1976d2",padding:"8px"},icon:{backgroundColor:"transparent",color:"inherit",padding:"8px",minWidth:"auto"}}[this.options.variant||"primary"]}updateContent(){const t=[];this.isLoading?t.push(this.getLoadingSpinner()):(this.options.icon&&t.push(this.options.icon),this.options.text&&t.push(`<span>${this.options.text}</span>`)),this.element.innerHTML=t.join("")}getLoadingSpinner(){return'\n      <svg class="btn-spinner" width="16" height="16" viewBox="0 0 16 16" style="animation: spin 1s linear infinite;">\n        <circle cx="8" cy="8" r="6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-dasharray="30 10"></circle>\n      </svg>\n      <style>\n        @keyframes spin {\n          to { transform: rotate(360deg); }\n        }\n      </style>\n    '}attachEventListeners(){this.options.onClick&&this.element.addEventListener("click",t=>{return e=this,i=void 0,o=function*(){if(this.options.disabled||this.isLoading)t.preventDefault();else if(this.options.onClick)try{this.setLoading(!0),yield this.options.onClick(t)}finally{this.setLoading(!1)}},new((n=void 0)||(n=Promise))(function(t,s){function a(t){try{l(o.next(t))}catch(e){s(e)}}function r(t){try{l(o.throw(t))}catch(e){s(e)}}function l(e){var i;e.done?t(e.value):(i=e.value,i instanceof n?i:new n(function(t){t(i)})).then(a,r)}l((o=o.apply(e,i||[])).next())});var e,i,n,o}),this.element.addEventListener("mouseenter",()=>{this.options.disabled||(this.element.style.filter="brightness(0.9)")}),this.element.addEventListener("mouseleave",()=>{this.element.style.filter=""})}setupTooltip(){if(!this.options.tooltip)return;let t=null;this.element.addEventListener("mouseenter",()=>{if(t)return;t=document.createElement("div"),t.className="btn-tooltip",t.textContent=this.options.tooltip,t.style.cssText="\n        position: absolute;\n        background-color: rgba(0, 0, 0, 0.8);\n        color: white;\n        padding: 4px 8px;\n        border-radius: 4px;\n        font-size: 12px;\n        white-space: nowrap;\n        z-index: 1000;\n        pointer-events: none;\n        opacity: 0;\n        transition: opacity 0.2s;\n      ",document.body.appendChild(t);const e=this.element.getBoundingClientRect(),i=t.getBoundingClientRect(),n={top:{top:e.top-i.height-8+"px",left:e.left+e.width/2-i.width/2+"px"},bottom:{top:`${e.bottom+8}px`,left:e.left+e.width/2-i.width/2+"px"},left:{top:e.top+e.height/2-i.height/2+"px",left:e.left-i.width-8+"px"},right:{top:e.top+e.height/2-i.height/2+"px",left:`${e.right+8}px`}}[this.options.tooltipPosition||"top"];Object.assign(t.style,n),requestAnimationFrame(()=>{t&&(t.style.opacity="1")})}),this.element.addEventListener("mouseleave",()=>{t&&(t.style.opacity="0",setTimeout(()=>{null==t||t.remove(),t=null},200))})}setLoading(t){this.isLoading=t,this.options.loading=t,t?this.element instanceof HTMLButtonElement&&(this.element.disabled=!0):this.element instanceof HTMLButtonElement&&(this.element.disabled=this.options.disabled||!1),this.element.className=this.buildClassName(),this.updateContent()}setDisabled(t){this.options.disabled=t,this.element instanceof HTMLButtonElement&&(this.element.disabled=t),this.element.className=this.buildClassName(),this.element.style.opacity=t?"0.6":"1",this.element.style.cursor=t?"not-allowed":"pointer"}setText(t){this.options.text=t,this.updateContent()}setIcon(t){this.options.icon=t,this.updateContent()}getElement(){return this.element}appendTo(t){t.appendChild(this.element)}remove(){this.element.remove()}}function e(e){return new t(e)}const i=new class{constructor(t={}){this.container=null,this.notifications=new Map,this.defaultOptions={duration:3e3,position:"top",persistent:!1},this.defaultOptions=Object.assign(Object.assign({},this.defaultOptions),t),this.init()}init(){"undefined"!=typeof document&&(this.container=document.getElementById("notification-container"),this.container||(this.container=document.createElement("div"),this.container.id="notification-container",this.container.className="notification-container",this.applyContainerStyles(),document.body.appendChild(this.container)))}applyContainerStyles(){if(!this.container)return;const t={position:"fixed",zIndex:"9999",pointerEvents:"none",display:"flex",flexDirection:"column",gap:"10px",padding:"20px"};switch(this.defaultOptions.position||"top"){case"top":t.top="0",t.left="50%",t.transform="translateX(-50%)";break;case"bottom":t.bottom="0",t.left="50%",t.transform="translateX(-50%)";break;case"top-right":t.top="0",t.right="0";break;case"top-left":t.top="0",t.left="0";break;case"bottom-right":t.bottom="0",t.right="0";break;case"bottom-left":t.bottom="0",t.left="0"}Object.assign(this.container.style,t)}show(t,e="info",i={}){const n=Object.assign(Object.assign({},this.defaultOptions),i),o=`notification-${Date.now()}`,s=this.createNotification(o,t,e,n);return this.container||this.init(),this.container&&(this.container.appendChild(s),this.notifications.set(o,s),requestAnimationFrame(()=>{s.classList.add("notification-show")}),n.persistent||setTimeout(()=>{this.hide(o)},n.duration)),o}createNotification(t,e,i,n){const o=document.createElement("div");o.id=t,o.className=`notification notification-${i} ${n.className||""}`;const s={padding:"12px 20px",borderRadius:"4px",backgroundColor:this.getBackgroundColor(i),color:"#fff",fontSize:"14px",lineHeight:"1.5",boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)",pointerEvents:"auto",cursor:n.onClick?"pointer":"default",opacity:"0",transform:"translateY(-20px)",transition:"all 0.3s ease",maxWidth:"400px",wordWrap:"break-word"};if(Object.assign(o.style,s),o.innerHTML=`\n      <div style="display: flex; align-items: center; gap: 10px;">\n        <span style="flex: 1;">${e}</span>\n        ${n.persistent?'<button class="notification-close" style="background: none; border: none; color: #fff; cursor: pointer; font-size: 16px; padding: 0; margin-left: 10px;">&times;</button>':""}\n      </div>\n    `,n.onClick&&o.addEventListener("click",t=>{t.target.classList.contains("notification-close")||n.onClick()}),n.persistent){const e=o.querySelector(".notification-close");e&&e.addEventListener("click",()=>this.hide(t))}return o}getBackgroundColor(t){return{success:"#4caf50",error:"#f44336",warning:"#ff9800",info:"#2196f3"}[t]}hide(t){const e=this.notifications.get(t);e&&(e.classList.remove("notification-show"),e.style.opacity="0",e.style.transform="translateY(-20px)",setTimeout(()=>{e.remove(),this.notifications.delete(t)},300))}hideAll(){this.notifications.forEach((t,e)=>this.hide(e))}success(t,e){return this.show(t,"success",e)}error(t,e){return this.show(t,"error",e)}warning(t,e){return this.show(t,"warning",e)}info(t,e){return this.show(t,"info",e)}};var n=function(t,e,i,n){return new(i||(i=Promise))(function(o,s){function a(t){try{l(n.next(t))}catch(e){s(e)}}function r(t){try{l(n.throw(t))}catch(e){s(e)}}function l(t){var e;t.done?o(t.value):(e=t.value,e instanceof i?e:new i(function(t){t(e)})).then(a,r)}l((n=n.apply(t,e||[])).next())})};const o=new class{constructor(){this.services=[{name:"Twitter",icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M22.46 6c-.85.38-1.77.64-2.73.76 1-.6 1.76-1.55 2.12-2.68-.93.55-1.96.95-3.06 1.17-.88-.94-2.13-1.53-3.51-1.53-2.66 0-4.81 2.16-4.81 4.81 0 .38.04.75.13 1.1-4-.2-7.54-2.11-9.91-5.02-.41.71-.65 1.53-.65 2.4 0 1.67.85 3.14 2.14 4.01-.79-.03-1.54-.24-2.19-.6v.06c0 2.33 1.66 4.28 3.86 4.72-.4.11-.83.17-1.27.17-.31 0-.62-.03-.92-.08.62 1.91 2.39 3.3 4.5 3.34-1.65 1.29-3.73 2.06-5.99 2.06-.39 0-.77-.02-1.15-.07 2.13 1.37 4.66 2.16 7.38 2.16 8.85 0 13.69-7.33 13.69-13.69 0-.21 0-.41-.01-.62.94-.68 1.76-1.53 2.4-2.5z"/></svg>',getUrl:(t,e)=>`https://twitter.com/intent/tweet?text=${encodeURIComponent(e)}&url=${encodeURIComponent(t)}`,color:"#1DA1F2"},{name:"Facebook",icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>',getUrl:t=>`https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(t)}`,color:"#1877F2"},{name:"LINE",icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M19.365 9.863c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755c.349 0 .63.283.63.63 0 .344-.281.629-.63.629h-2.386c-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63h2.386c.349 0 .63.285.63.631 0 .345-.281.63-.63.63H17.61v1.125h1.755zm-3.855 3.016c0 .27-.174.51-.432.596-.064.021-.133.031-.199.031-.211 0-.391-.09-.51-.25l-2.443-3.317v2.94c0 .344-.279.629-.631.629-.346 0-.626-.285-.626-.629V8.108c0-.27.173-.51.43-.595.06-.023.136-.033.194-.033.195 0 .375.104.495.254l2.462 3.33V8.108c0-.345.282-.63.63-.63.345 0 .63.285.63.63v4.771zm-5.741 0c0 .344-.282.629-.631.629-.345 0-.627-.285-.627-.629V8.108c0-.345.282-.63.63-.63.346 0 .628.285.628.63v4.771zm-2.466.629H4.917c-.345 0-.63-.285-.63-.629V8.108c0-.345.285-.63.63-.63.348 0 .63.285.63.63v4.141h1.756c.348 0 .629.283.629.63 0 .344-.282.629-.629.629M24 10.314C24 4.943 18.615.572 12 .572S0 4.943 0 10.314c0 4.811 4.27 8.842 10.035 9.608.391.082.923.258 1.058.59.12.301.079.766.038 1.08l-.164 1.02c-.045.301-.24 1.186 1.049.645 1.291-.539 6.916-4.078 9.436-6.975C23.176 14.393 24 12.458 24 10.314"/></svg>',getUrl:(t,e)=>`https://social-plugins.line.me/lineit/share?url=${encodeURIComponent(t)}&text=${encodeURIComponent(e)}`,color:"#00B900"}],this.init()}init(){"undefined"!=typeof document&&document.addEventListener("DOMContentLoaded",()=>{this.setupShareButtons()})}setupShareButtons(){document.querySelectorAll(".share-buttons").forEach(t=>{const i=t.getAttribute("data-url")||window.location.href,n=t.getAttribute("data-title")||document.title;t.innerHTML="",this.services.forEach(o=>{const s=e({icon:o.icon,variant:"icon",size:"medium",className:"share-button",ariaLabel:`${o.name}でシェア`,tooltip:`${o.name}でシェア`,tooltipPosition:"top",onClick:()=>this.share(o,i,n)}),a=s.getElement();a.style.color=o.color||"#666",a.style.padding="8px",s.appendTo(t)}),"share"in navigator&&e({icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z"/></svg>',variant:"icon",size:"medium",className:"share-button share-native",ariaLabel:"シェア",tooltip:"シェア",tooltipPosition:"top",onClick:()=>this.nativeShare(i,n)}).appendTo(t),e({icon:'<svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M16 1H4c-1.1 0-2 .9-2 2v14h2V3h12V1zm3 4H8c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h11c1.1 0 2-.9 2-2V7c0-1.1-.9-2-2-2zm0 16H8V7h11v14z"/></svg>',variant:"icon",size:"medium",className:"share-button share-copy",ariaLabel:"リンクをコピー",tooltip:"リンクをコピー",tooltipPosition:"top",onClick:()=>this.copyLink(i)}).appendTo(t)})}share(t,e,i){const n=t.getUrl(e,i);window.open(n,"_blank","width=600,height=400,menubar=no,toolbar=no,resizable=yes"),void 0!==window.gtag&&window.gtag("event","share",{method:t.name,content_type:"article",item_id:e})}nativeShare(t,e){return n(this,void 0,void 0,function*(){try{yield navigator.share({title:e,url:t}),i.success("シェアしました")}catch(n){"AbortError"!==n.name&&i.error("シェアに失敗しました")}})}copyLink(t){return n(this,void 0,void 0,function*(){try{yield navigator.clipboard.writeText(t),i.success("リンクをコピーしました",{duration:2e3})}catch(e){const o=document.createElement("textarea");o.value=t,o.style.position="fixed",o.style.opacity="0",document.body.appendChild(o),o.select();try{document.execCommand("copy"),i.success("リンクをコピーしました",{duration:2e3})}catch(n){i.error("コピーに失敗しました")}document.body.removeChild(o)}})}addService(t){this.services.push(t),this.setupShareButtons()}removeService(t){this.services=this.services.filter(e=>e.name!==t),this.setupShareButtons()}};window.ShareButtons=o})();